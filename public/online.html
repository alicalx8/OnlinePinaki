<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinaki Online</title>
    <link rel="stylesheet" href="style.css?v=3">
    <style>
        .lobby-container {
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: rgba(0,0,0,0.8);
            border-radius: 10px;
            color: white;
        }
        .room-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            font-size: 16px;
        }
        .join-btn {
            width: 100%;
            padding: 15px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px 0;
        }
        .join-btn:hover {
            background: #45a049;
        }
        .players-list {
            margin: 20px 0;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
        }
        .start-game-btn {
            width: 100%;
            padding: 15px;
            background: #ffd700;
            color: #222;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px 0;
            font-weight: bold;
        }
        .start-game-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="lobby-container">
        <h1>Pinaki Online</h1>
        
        <div id="join-section">
            <h2>Odaya Katıl</h2>
            <input type="text" id="room-id" class="room-input" placeholder="Oda ID" value="test-room">
            <input type="text" id="player-name" class="room-input" placeholder="Oyuncu Adı" value="Oyuncu">
            <div style="display: flex; gap: 10px; margin: 10px 0;">
                <button id="join-btn" class="join-btn" type="button">Oyuncu Olarak Katıl</button>
                <button id="spectator-btn" style="flex: 1; padding: 15px; background: #6c5ce7; color: white; border: none; border-radius: 5px; font-size: 18px; cursor: pointer;">Misafir Olarak İzle</button>
            </div>
            <button id="debug-btn" style="margin-top: 10px; padding: 10px; background: #ff6b6b; color: white; border: none; border-radius: 5px; cursor: pointer;">Bağlantıyı Test Et</button>
        </div>

        <div id="lobby-section" style="display:none;">
            <h2>Oda: <span id="room-display"></span></h2>
            <div class="players-list">
                <h3>Oyuncular:</h3>
                <div id="players-list"></div>
            </div>
            <button id="start-game-btn" class="start-game-btn" disabled>Oyunu Başlat (4 oyuncu gerekli)</button>
        </div>

        <div id="game-section" style="display:none;">
            <div id="left-panel">
                <button id="dealBtn">Kartları Dağıt</button>
                <div id="bot-controls" style="margin: 10px 0;">
                    <h3>Bot Kontrolleri</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button id="bot1-toggle" class="bot-btn" data-player="0">Oyuncu 1: İnsan</button>
                        <button id="bot2-toggle" class="bot-btn" data-player="1">Oyuncu 2: İnsan</button>
                        <button id="bot3-toggle" class="bot-btn" data-player="2">Oyuncu 3: İnsan</button>
                        <button id="bot4-toggle" class="bot-btn" data-player="3">Oyuncu 4: İnsan</button>
                    </div>
                </div>
                <div id="auction" style="margin: 15px 0;">
                    <h2>İhale Süreci</h2>
                    <div id="auction-status">Kartlar dağıtıldıktan sonra ihale başlayacak.</div>
                    <div id="auction-controls" style="display:none;">
                        <span id="auction-player"></span>
                        <input type="number" id="bid-input" min="0" placeholder="Teklif (sayı)">
                        <button id="bid-btn">Teklif Ver</button>
                        <button id="pass-btn">Pas</button>
                        <button id="sordum-btn" style="display:none;">Sordum</button>
                        <button id="konus-btn" style="display:none;">Konuş</button>
                        <button id="boz-btn" style="display:none;">Boz</button>
                    </div>
                    <div id="auction-highest-bid" style="margin-top:8px;font-weight:bold;"></div>
                </div>
                <div id="trump-select" style="display:none; margin: 15px 0;">
                    <h2>Koz Seçimi</h2>
                    <div id="trump-player"></div>
                    <button class="trump-btn" data-suit="♥">♥ Kupa</button>
                    <button class="trump-btn" data-suit="♠">♠ Maça</button>
                    <button class="trump-btn" data-suit="♦">♦ Karo</button>
                    <button class="trump-btn" data-suit="♣">♣ Sinek</button>
                </div>
            </div>
            <div id="right-panel">
                <div id="endgame-result" style="margin-top:0px;font-size:14px;font-weight:bold;color:#ffd700;"></div>
            </div>
            <div id="players">
                <div class="player" id="player1"><h4 id="player1-name">Oyuncu 1</h4><div class="cards"></div></div>
                <div class="player" id="player2"><h4 id="player2-name">Oyuncu 2</h4><div class="cards"></div></div>
                <div class="player" id="player3"><h4 id="player3-name">Oyuncu 3</h4><div class="cards"></div></div>
                <div class="player" id="player4"><h4 id="player4-name">Oyuncu 4</h4><div class="cards"></div></div>
                <div id="table-center"><h3>Masa</h3><div id="center-cards"></div></div>
            </div>
            <div id="score-table" style="display:none; position:fixed; left:24px; bottom:20px; max-width:280px; min-width:200px; background:rgba(0,0,0,0.8); color:#fff; font-size:14px; border-radius:6px; padding:8px; z-index:1000; text-align:center; border:1px solid rgba(255,255,255,0.2);"></div>
            <div id="pota-chat" style="position:fixed; right:24px; bottom:24px; width:320px; background:rgba(0,0,0,0.85); color:#fff; border-radius:10px; padding:12px; z-index:1001; font-size:17px; box-shadow:0 2px 12px #0005;">
                <div id="pota-chat-messages" style="max-height:160px; overflow-y:auto; margin-bottom:8px;"></div>
                <div style="display:flex; gap:6px;">
                    <input id="pota-chat-input" type="text" maxlength="40" placeholder="Pota mesajı yaz..." style="flex:1; border-radius:6px; border:none; padding:6px; font-size:16px;">
                    <button id="pota-chat-send" style="border-radius:6px; border:none; background:#ffd700; color:#222; font-weight:bold; padding:6px 12px; cursor:pointer;">Gönder</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="script.js?v=3"></script>
    <script src="online.js?v=3" nonce="online-script"></script>
    <script src="bot.js?v=3"></script>
</body>
</html> 